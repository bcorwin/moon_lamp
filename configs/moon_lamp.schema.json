{
  "type": "object",
  "properties": {
    "phase": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "description": "The phase mode",
          "default": "current",
          "pattern": "^(current|loop|hold)$"
        },
        "time": {
          "type": "integer",
          "title": "The Time Schema ",
          "description": "Time in seconds to remain for a phase for 'loop' mode.",
          "default": 60,
          "minimum": 1
        },
        "phase": {
          "type": "string",
          "description": "The phase for 'hold'",
          "default": "full",
          "pattern": "^(new|waxing_crescent|first_quarter|waxing_gibbous|full|waning_gibbous|last_quarter|waning_crescent)$"
        }
      },
      "required": [
        "mode"
      ]
    },
    "lamp": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "description": "The lamp mode.",
          "default": "on",
          "pattern": "^(on|off|with_moon|with_change)$"
        },
        "time": {
          "type": [
            "integer",
            "null"
          ],
          "description": "In seconds the time to stay 'on' (null for indefinite) or how long to stay on 'with change'",
          "default": 60,
          "minimum": 1
        }
      },
      "required": [
        "mode"
      ]
    },
    "updated_at": {
      "type": "string",
      "description": "The datetime (YYYY-MM-DD HH:MM:SS UTC) this file was last updated."
    }
  },
  "required": [
    "phase",
    "lamp",
    "updated_at"
  ]
}
